{"ast":null,"code":"import{gsap}from'gsap';import{Observer}from'gsap/Observer';import{useEffect,useRef}from'react';import'./InfiniteScroll.css';import{jsx as _jsx,Fragment as _Fragment,jsxs as _jsxs}from\"react/jsx-runtime\";gsap.registerPlugin(Observer);export default function InfiniteScroll(_ref){let{width='30rem',maxHeight='100%',negativeMargin='-0.5em',items=[],itemMinHeight=150,isTilted=false,tiltDirection='left',autoplay=false,autoplaySpeed=0.5,autoplayDirection='down',pauseOnHover=false}=_ref;const wrapperRef=useRef(null);const containerRef=useRef(null);const getTiltTransform=()=>{if(!isTilted)return'none';return tiltDirection==='left'?'rotateX(20deg) rotateZ(-20deg) skewX(20deg)':'rotateX(20deg) rotateZ(20deg) skewX(-20deg)';};useEffect(()=>{const container=containerRef.current;if(!container)return;if(items.length===0)return;const divItems=gsap.utils.toArray(container.children);if(!divItems.length)return;const firstItem=divItems[0];const itemStyle=getComputedStyle(firstItem);const itemHeight=firstItem.offsetHeight;const itemMarginTop=parseFloat(itemStyle.marginTop)||0;const totalItemHeight=itemHeight+itemMarginTop;const totalHeight=itemHeight*items.length+itemMarginTop*(items.length-1);const wrapFn=gsap.utils.wrap(-totalHeight,totalHeight);divItems.forEach((child,i)=>{const y=i*totalItemHeight;gsap.set(child,{y});});const observer=Observer.create({target:container,type:'wheel,touch,pointer',preventDefault:true,onPress:_ref2=>{let{target}=_ref2;target.style.cursor='grabbing';},onRelease:_ref3=>{let{target}=_ref3;target.style.cursor='grab';},onChange:_ref4=>{let{deltaY,isDragging,event}=_ref4;const d=event.type==='wheel'?-deltaY:deltaY;const distance=isDragging?d*5:d*10;divItems.forEach(child=>{gsap.to(child,{duration:0.5,ease:'expo.out',y:\"+=\".concat(distance),modifiers:{y:gsap.utils.unitize(wrapFn)}});});}});let rafId;if(autoplay){const directionFactor=autoplayDirection==='down'?1:-1;const speedPerFrame=autoplaySpeed*directionFactor;const tick=()=>{divItems.forEach(child=>{gsap.set(child,{y:\"+=\".concat(speedPerFrame),modifiers:{y:gsap.utils.unitize(wrapFn)}});});rafId=requestAnimationFrame(tick);};rafId=requestAnimationFrame(tick);if(pauseOnHover){const stopTicker=()=>rafId&&cancelAnimationFrame(rafId);const startTicker=()=>rafId=requestAnimationFrame(tick);container.addEventListener('mouseenter',stopTicker);container.addEventListener('mouseleave',startTicker);return()=>{observer.kill();stopTicker();container.removeEventListener('mouseenter',stopTicker);container.removeEventListener('mouseleave',startTicker);};}else{return()=>{observer.kill();rafId&&cancelAnimationFrame(rafId);};}}return()=>{observer.kill();if(rafId)cancelAnimationFrame(rafId);};},[items,autoplay,autoplaySpeed,autoplayDirection,pauseOnHover,isTilted,tiltDirection,negativeMargin]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"style\",{children:\"\\n        .infinite-scroll-wrapper {\\n          max-height: \".concat(maxHeight,\";\\n        }\\n\\n        .infinite-scroll-container {\\n          width: \").concat(width,\";\\n        }\\n\\n        .infinite-scroll-item {\\n          height: \").concat(itemMinHeight,\"px;\\n          margin-top: \").concat(negativeMargin,\";\\n        }\\n        \")}),/*#__PURE__*/_jsx(\"div\",{className:\"infinite-scroll-wrapper\",ref:wrapperRef,children:/*#__PURE__*/_jsx(\"div\",{className:\"infinite-scroll-container\",ref:containerRef,style:{transform:getTiltTransform()},children:items.map((item,i)=>/*#__PURE__*/_jsx(\"div\",{className:\"infinite-scroll-item\",children:item.content},i))})})]});}","map":{"version":3,"names":["gsap","Observer","useEffect","useRef","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","registerPlugin","InfiniteScroll","_ref","width","maxHeight","negativeMargin","items","itemMinHeight","isTilted","tiltDirection","autoplay","autoplaySpeed","autoplayDirection","pauseOnHover","wrapperRef","containerRef","getTiltTransform","container","current","length","divItems","utils","toArray","children","firstItem","itemStyle","getComputedStyle","itemHeight","offsetHeight","itemMarginTop","parseFloat","marginTop","totalItemHeight","totalHeight","wrapFn","wrap","forEach","child","i","y","set","observer","create","target","type","preventDefault","onPress","_ref2","style","cursor","onRelease","_ref3","onChange","_ref4","deltaY","isDragging","event","d","distance","to","duration","ease","concat","modifiers","unitize","rafId","directionFactor","speedPerFrame","tick","requestAnimationFrame","stopTicker","cancelAnimationFrame","startTicker","addEventListener","kill","removeEventListener","className","ref","transform","map","item","content"],"sources":["/Users/devulapellykushalkumarreddy/Downloads/CHALYATI/car-rental-frontend/src/components/InfiniteScroll.jsx"],"sourcesContent":["import { gsap } from 'gsap';\nimport { Observer } from 'gsap/Observer';\nimport { useEffect, useRef } from 'react';\nimport './InfiniteScroll.css';\n\ngsap.registerPlugin(Observer);\n\nexport default function InfiniteScroll({\n  width = '30rem',\n  maxHeight = '100%',\n  negativeMargin = '-0.5em',\n  items = [],\n  itemMinHeight = 150,\n  isTilted = false,\n  tiltDirection = 'left',\n  autoplay = false,\n  autoplaySpeed = 0.5,\n  autoplayDirection = 'down',\n  pauseOnHover = false\n}) {\n  const wrapperRef = useRef(null);\n  const containerRef = useRef(null);\n\n  const getTiltTransform = () => {\n    if (!isTilted) return 'none';\n    return tiltDirection === 'left'\n      ? 'rotateX(20deg) rotateZ(-20deg) skewX(20deg)'\n      : 'rotateX(20deg) rotateZ(20deg) skewX(-20deg)';\n  };\n\n  useEffect(() => {\n    const container = containerRef.current;\n    if (!container) return;\n    if (items.length === 0) return;\n\n    const divItems = gsap.utils.toArray(container.children);\n    if (!divItems.length) return;\n\n    const firstItem = divItems[0];\n    const itemStyle = getComputedStyle(firstItem);\n    const itemHeight = firstItem.offsetHeight;\n    const itemMarginTop = parseFloat(itemStyle.marginTop) || 0;\n    const totalItemHeight = itemHeight + itemMarginTop;\n    const totalHeight = itemHeight * items.length + itemMarginTop * (items.length - 1);\n\n    const wrapFn = gsap.utils.wrap(-totalHeight, totalHeight);\n\n    divItems.forEach((child, i) => {\n      const y = i * totalItemHeight;\n      gsap.set(child, { y });\n    });\n\n    const observer = Observer.create({\n      target: container,\n      type: 'wheel,touch,pointer',\n      preventDefault: true,\n      onPress: ({ target }) => {\n        target.style.cursor = 'grabbing';\n      },\n      onRelease: ({ target }) => {\n        target.style.cursor = 'grab';\n      },\n      onChange: ({ deltaY, isDragging, event }) => {\n        const d = event.type === 'wheel' ? -deltaY : deltaY;\n        const distance = isDragging ? d * 5 : d * 10;\n        divItems.forEach(child => {\n          gsap.to(child, {\n            duration: 0.5,\n            ease: 'expo.out',\n            y: `+=${distance}`,\n            modifiers: {\n              y: gsap.utils.unitize(wrapFn)\n            }\n          });\n        });\n      }\n    });\n\n    let rafId;\n    if (autoplay) {\n      const directionFactor = autoplayDirection === 'down' ? 1 : -1;\n      const speedPerFrame = autoplaySpeed * directionFactor;\n\n      const tick = () => {\n        divItems.forEach(child => {\n          gsap.set(child, {\n            y: `+=${speedPerFrame}`,\n            modifiers: {\n              y: gsap.utils.unitize(wrapFn)\n            }\n          });\n        });\n        rafId = requestAnimationFrame(tick);\n      };\n\n      rafId = requestAnimationFrame(tick);\n\n      if (pauseOnHover) {\n        const stopTicker = () => rafId && cancelAnimationFrame(rafId);\n        const startTicker = () => (rafId = requestAnimationFrame(tick));\n\n        container.addEventListener('mouseenter', stopTicker);\n        container.addEventListener('mouseleave', startTicker);\n\n        return () => {\n          observer.kill();\n          stopTicker();\n          container.removeEventListener('mouseenter', stopTicker);\n          container.removeEventListener('mouseleave', startTicker);\n        };\n      } else {\n        return () => {\n          observer.kill();\n          rafId && cancelAnimationFrame(rafId);\n        };\n      }\n    }\n\n    return () => {\n      observer.kill();\n      if (rafId) cancelAnimationFrame(rafId);\n    };\n  }, [items, autoplay, autoplaySpeed, autoplayDirection, pauseOnHover, isTilted, tiltDirection, negativeMargin]);\n\n  return (\n    <>\n      <style>\n        {`\n        .infinite-scroll-wrapper {\n          max-height: ${maxHeight};\n        }\n\n        .infinite-scroll-container {\n          width: ${width};\n        }\n\n        .infinite-scroll-item {\n          height: ${itemMinHeight}px;\n          margin-top: ${negativeMargin};\n        }\n        `}\n      </style>\n\n      <div className=\"infinite-scroll-wrapper\" ref={wrapperRef}>\n        <div\n          className=\"infinite-scroll-container\"\n          ref={containerRef}\n          style={{\n            transform: getTiltTransform()\n          }}\n        >\n          {items.map((item, i) => (\n            <div className=\"infinite-scroll-item\" key={i}>\n              {item.content}\n            </div>\n          ))}\n        </div>\n      </div>\n    </>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}